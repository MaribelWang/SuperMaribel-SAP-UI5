<mvc:View
    controllerName="project1.controller.List"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    core:require="{ Util:'project1/utilities/utilities' }"
>
    <Page title="Sweet Suppliers">
        <IconTabBar
            id="idIconTabBar"
            select=".onFilterSelect"
            class="sapUiResponsiveContentPadding"
        >
            <items>
                <IconTabFilter
                    showAll="true"
                    count="{viewModel>/Total}"
                    text="Products"
                    key="All"
                />
                <IconTabSeparator />
                <IconTabFilter
                    icon="sap-icon://begin"
                    iconColor="Positive"
                    count="{viewModel>/Ok}"
                    text="Ok"
                    key="Ok"
                />
                <IconTabFilter
                    icon="sap-icon://compare"
                    iconColor="Critical"
                    count="{viewModel>/Heavy}"
                    text="Heavy"
                    key="Heavy"
                />
                <IconTabFilter
                    icon="sap-icon://inventory"
                    iconColor="Negative"
                    count="{viewModel>/Overweight}"
                    text="Overweight"
                    key="Overweight"
                />
            </items>
        </IconTabBar>
        <content>
            <Table
                id="idTable"
                items="{	path:'ODATA>/ProductSet',
											parameters:{expand: 'ToSupplier'},
											sorter:{
												path:'Category',
												group:true
											}
									   }"
                growing="true"
                class="sapUiResponsiveMargin"
                width="auto"
            >
                <headerToolbar>
                    <Toolbar>
                        <Label text="Number of Sweets Suppliers " />
                        <ToolbarSpacer />
                        <SearchField
                            width="30%"
                            search="onSearch"
                        />
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column>
                        <header>
                            <Text text="Product ID" />
                        </header>
                    </Column>
                    <Column>
                        <header>
                            <Text text="Product Name" />
                        </header>
                    </Column>
                    <Column>
                        <header>
                            <Text text="Weight" />
                        </header>
                    </Column>
                    <Column>
                        <header>
                            <Text text="Price" />
                        </header>
                    </Column>

                    <Column>
                        <header>
                            <Text text="Category" />
                        </header>
                    </Column>
                    <Column>
                        <header>
                            <Text text="SupplierID" />
                        </header>
                    </Column>
                </columns>
                <items>
                    <ColumnListItem
                        type="Navigation"
                        press="onListItemPress"
                    >
                        <cells>
                            <ObjectIdentifier text="{ODATA>ProductID}" />
                            <ObjectIdentifier text="{ODATA>Name}" />
                            <ObjectNumber
                                number="{ODATA>WeightMeasure}"
                                unit="{ODATA>WeightUnit}"
                                state="{ parts:[ {path:'ODATA>WeightMeasure'},{path:'ODATA>WeightUnit'} ], formatter:'Util.formatterFunction' }"
                            />
                            <Text
                                text="{ parts: [ {path:'ODATA>Price'},{path:'ODATA>CurrencyCode'} ], type:'sap.ui.model.type.Currency', formatOptions:{ showMeasure:false } }"
                            />
                            <ObjectIdentifier text="{ODATA>Category}" />
                            <ObjectIdentifier
                                text="{ODATA>ToSupplier/BusinessPartnerID}"
                            />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
    </Page>
</mvc:View>
